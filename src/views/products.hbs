<div class="container" style="max-width: 900px;">
    <div class="header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1>Google Shopping Products</h1>
        <a href="/auth/logout" class="btn btn-secondary">Logout</a>
    </div>

    <div class="create-form" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
        <h2>Create New Product</h2>
        <form method="POST" action="/products/create">
            <input type="hidden" name="merchantId" value="{{merchantId}}">
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Title:</label>
                <input type="text" name="title" placeholder="Product Title" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Description:</label>
                <textarea name="description" placeholder="Product Description" rows="3" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;"></textarea>
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Price:</label>
                <input type="number" name="price" placeholder="29.99" step="0.01" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Brand:</label>
                <input type="text" name="brand" placeholder="Brand Name" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Product Link:</label>
                <input type="url" name="link" placeholder="https://example.com/product" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Image Link:</label>
                <input type="url" name="imageLink" placeholder="https://example.com/image.jpg" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <button type="submit" class="btn">Create Product</button>
        </form>
    </div>

    <h2>Your Products</h2>
    {{#if products.resources}}
        {{#each products.resources}}
        <div class="product" style="border: 1px solid #ddd; padding: 20px; margin: 10px 0; border-radius: 8px;">
            <h3>{{#if title}}{{title}}{{else}}Untitled Product{{/if}}</h3>
            <p><strong>ID:</strong> {{id}}</p>
            <p><strong>Offer ID:</strong> {{offerId}}</p>
            <p><strong>Price:</strong> {{#if price}}{{price.value}} {{price.currency}}{{else}}N/A{{/if}}</p>
            <p><strong>Availability:</strong> {{#if availability}}{{availability}}{{else}}N/A{{/if}}</p>
            <p><strong>Condition:</strong> {{#if condition}}{{condition}}{{else}}N/A{{/if}}</p>
            {{#if imageLink}}
                <img src="{{imageLink}}" alt="{{title}}" style="max-width: 100px; height: auto;">
            {{/if}}
        </div>
        {{/each}}
    {{else}}
        <p>No products found.</p>
    {{/if}}
</div>

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 40px;
        background: white !important;
    }
    .btn {
        padding: 10px 20px;
        background: #4285f4;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        border: none;
        cursor: pointer;
    }
    .btn:hover {
        background: #3367d6;
    }
    .btn-secondary {
        background: #6c757d;
    }
    .btn-secondary:hover {
        background: #5a6268;
    }
</style>