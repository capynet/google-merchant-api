<div class="container" style="max-width: 900px;">
    <div class="header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1>Google Shopping Products</h1>
        <a href="/auth/logout" class="btn btn-secondary">Logout</a>
    </div>

    {{#if error}}
        <div class="alert alert-error" style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #f5c6cb;">
            {{error}}
        </div>
    {{/if}}

    {{#if success}}
        <div class="alert alert-success" style="background: #d4edda; color: #155724; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #c3e6cb;">
            {{success}}
        </div>
    {{/if}}


    <div class="create-form" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2>Create New Product</h2>

        </div>
        <form method="POST" action="/products/create">
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Offer ID:</label>
                <input type="text" name="offerId" value="SKU123456" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" placeholder="Unique product identifier">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Title:</label>
                <input type="text" name="title" value="Wireless Bluetooth Headphones" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Description:</label>
                <textarea name="description" rows="3" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">Premium noise-cancelling wireless headphones with 30-hour battery life, crystal clear audio, and comfortable over-ear design. Perfect for music lovers and professionals.</textarea>
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Price:</label>
                <input type="number" name="price" value="79.99" step="0.01" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Currency Code:</label>
                <select name="currencyCode" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="USD" selected>USD</option>
                    <option value="EUR">EUR</option>
                    <option value="GBP">GBP</option>
                    <option value="CAD">CAD</option>
                    <option value="AUD">AUD</option>
                </select>
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Brand:</label>
                <input type="text" name="brand" value="TechSound Pro" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Condition:</label>
                <select name="condition" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="new" selected>New</option>
                    <option value="refurbished">Refurbished</option>
                    <option value="used">Used</option>
                </select>
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Availability:</label>
                <select name="availability" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="in_stock" selected>In Stock</option>
                    <option value="out_of_stock">Out of Stock</option>
                    <option value="preorder">Preorder</option>
                    <option value="backorder">Backorder</option>
                </select>
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Product Link:</label>
                <input type="url" name="link" value="https://example.com/wireless-headphones" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Image Link:</label>
                <input type="url" name="imageLink" value="https://picsum.photos/400/300?random=1" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Content Language:</label>
                <select name="contentLang" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="en" selected>English (en)</option>
                    <option value="es">Spanish (es)</option>
                    <option value="fr">French (fr)</option>
                    <option value="de">German (de)</option>
                    <option value="it">Italian (it)</option>
                </select>
            </div>
            <div class="form-group" style="margin: 15px 0;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Feed Label:</label>
                <input type="text" name="feedLabel" value="ONLINE" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" placeholder="e.g., ONLINE, STORE, etc.">
            </div>
            <button type="submit" class="btn">Create Product</button>
        </form>
    </div>

    <h2>Your Products</h2>
    {{#if products.resources}}
        {{#each products.resources}}
        <div class="product" style="border: 1px solid #ddd; padding: 20px; margin: 10px 0; border-radius: 8px;">
            <h3>{{productAttributes.title}}</h3>
            <p><strong>Desc:</strong> {{productAttributes.description}}</p>
            <p><strong>datasource:</strong> {{dataSource}}</p>
            <p><strong>Offer ID:</strong> {{offerId}}</p>
                <img src="{{productAttributes.imageLink}}" alt="{{productAttributes.title}}" style="max-width: 100px; height: auto;">
        </div>
        {{/each}}
    {{else}}
        <p>No products found.</p>
    {{/if}}
</div>

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 40px;
        background: white !important;
    }
    .btn {
        padding: 10px 20px;
        background: #4285f4;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        border: none;
        cursor: pointer;
    }
    .btn:hover {
        background: #3367d6;
    }
    .btn-secondary {
        background: #6c757d;
    }
    .btn-secondary:hover {
        background: #5a6268;
    }
</style>